{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jackm\\\\Documents\\\\GitHub\\\\Pictopass\\\\frontend\\\\src\\\\components\\\\FileInput.js\";\nimport React from 'react';\nimport axios from 'axios'; //Styles\n\nimport '../styles/Global.css';\n/*\r\nHandle file submittions to be pushed to the backend API\r\n*/\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class FileInput extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: '',\n      file: null,\n      password: \"\",\n      error: \"\"\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      value: event.target.value,\n      file: URL.createObjectURL(event.target.files[0])\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    let reader = new FileReader();\n    reader.readAsDataURL(document.getElementById(\"image_input\").files[0]);\n    reader.addEventListener(\"load\", () => {\n      let data = reader.result;\n      axios.post(\"http://localhost:5000/newImage\", {\n        file: data\n      }).then(res => {\n        if (res.data.status == 200) {\n          this.setState({\n            value: this.state.value,\n            file: this.state.file,\n            password: res.data.password,\n            error: \"\"\n          });\n        } else {\n          this.setState({\n            error: \"Oops! Image failed to load, try again!\"\n          });\n        }\n      }).catch(err => {\n        this.setState({\n          error: \"Oops! Image failed to load, try again!\"\n        });\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            id: \"InputFileHeader\",\n            children: \"Turning Pictures into Privacy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"ButtonInput\",\n            id: \"image_input\",\n            type: \"file\",\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"ButtonInput\",\n          type: \"submit\",\n          value: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"picture_frame\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          id: \"InputedPicture\",\n          src: this.state.file\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        id: \"GeneratedPassword\",\n        children: \"Generated Password:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: this.state.error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"output\",\n        children: this.state.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/jackm/Documents/GitHub/Pictopass/frontend/src/components/FileInput.js"],"names":["React","axios","FileInput","Component","constructor","props","state","value","file","password","error","handleChange","bind","handleSubmit","event","setState","target","URL","createObjectURL","files","preventDefault","reader","FileReader","readAsDataURL","document","getElementById","addEventListener","data","result","post","then","res","status","catch","err","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\n\r\n//Styles\r\nimport '../styles/Global.css'\r\n\r\n/*\r\nHandle file submittions to be pushed to the backend API\r\n*/\r\n\r\nexport default class FileInput extends React.Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n      value: '',\r\n      file : null,\r\n      password: \"\",\r\n      error: \"\"\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({\r\n      value: event.target.value,\r\n      file: URL.createObjectURL(event.target.files[0])\r\n    });\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    event.preventDefault();\r\n    let reader = new FileReader();\r\n    reader.readAsDataURL(document.getElementById(\"image_input\").files[0]);\r\n    \r\n    reader.addEventListener(\"load\", () => {\r\n      let data = reader.result;\r\n      axios.post(\"http://localhost:5000/newImage\", {\r\n        file: data\r\n      }).then(res => {\r\n        if (res.data.status == 200) {\r\n          this.setState({\r\n            value: this.state.value,\r\n            file: this.state.file,\r\n            password: res.data.password,\r\n            error: \"\"\r\n          });\r\n        } else {\r\n          this.setState({\r\n            error: \"Oops! Image failed to load, try again!\"\r\n          });\r\n        }\r\n      }).catch(err => {\r\n        this.setState({\r\n          error: \"Oops! Image failed to load, try again!\"\r\n        });\r\n      });\r\n    });\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div>\r\n        <form onSubmit={this.handleSubmit}>\r\n            <label>\r\n                <h2 id = \"InputFileHeader\">Turning Pictures into Privacy</h2>\r\n                {/*Choose File Button*/}\r\n                <input \r\n                  className = \"ButtonInput\"\r\n                  id = \"image_input\" \r\n                  type = \"file\" \r\n                  onChange = {this.handleChange}\r\n                />\r\n            </label>\r\n            \r\n            {/* Submit Button */}\r\n          <input \r\n            className = \"ButtonInput\"\r\n            type = \"submit\" \r\n            value = \"Submit\"\r\n          />\r\n        </form>\r\n        <div className=\"picture_frame\">\r\n          <img id=\"InputedPicture\" src={this.state.file}></img>\r\n        </div>\r\n        <h3 id = \"GeneratedPassword\">Generated Password:</h3>\r\n        <h5>{this.state.error}</h5>\r\n        <p className=\"output\">{this.state.password}</p>\r\n      </div>\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}